<%-
  node_arrays = YAML.load_file("/etc/ood/config/apps/bc_desktop/config/node_arrays.yml")
-%>
---
cluster: "ondemand"
form:
  - container_image
  - bc_num_hours
  - slot_type
  - apptainer_arguments
attributes:
  bc_num_hours:
    widget: "number_field"
    label: "Maximum duration of your remote session in hours"
    value: 1
    help: |
      This is the maximum duration of your session.
    min: 1
    max: 48
    step: 1
  slot_type:
    widget: select
    options:
      <%- node_arrays.each do |slot_type| %>
      - '<%= slot_type["name"]%>'
      <%- end %>
  container_image:
    id: "container_image"
    label: "Container Image"
    widget: "text_field"
    value: "/anfhome/clusteradmin/csci-2024-01-09.sif"
    help: |
      This image requires jupyter installed and in the path.
  apptainer_arguments:
    id: "apptainer_arguments"
    label: "Additional Apptainer Arguments"
    widget: "text_field"
    value: ""
    help: |
      Additional arguments for apptainer exec.
